= Habitual - The practice better habits app
:toc: left
:icons: font
:toclevels: 4
:imagesdir: adoc_images
:source-highlighter: rouge
:source-linenums-option: true

This document is part of the version controlled code used to deliver my web app entry to the link:https://hackathon.edgedb.com[EdgeDB + Vercel Hackathon]. All rights are reserved.
This is my first hackathon entry; I will continue to develop it as a way to shake out what I intend to be my preferred stack. Please review the repo and the nice dev flow commit history.

== PURPOSE
[.text-center]
*_Document and deliver proof of concept for a new web app -- "Habitual"_*
*_The practice better habits app_*

This submission documents the learning and testing of a full stack web app with:

* EdgeDB - cloud database, branching, handling of environment variables and more
* Vercel - seamless deployment and hosting with integrated environment variables from GitHub main branch releases
* Svelte - svelte-kit with jsdoc for types and svelte 5 preview
* Tailwind -

== PROBLEM
[.text-center]
*_You prefer electronic solutions to paper products for practicing "elastic habits"_*

Based on the book "Elastic Habits: How to Create Smarter Habits That Adapt to Your Day" by Stephen Guise. He wrote Mini habits and other books that lead to this approach.
I want to design something for my own tracking, but I might reach out to him and see if he'd like to develop it further in a version that more closely follows his paper products.

== SOLUTION
[.text-center]
*_The practice better habits app_*

The proof of concept will be a very simple version based on the book and his current offerings on link:https://minihabits.com/shop/[Mini Habits Shop]

=== Existing Examples Not Offered as an app
Of his offerings, the Eslastic Habit Tracker (one sheet for a month's tracking) is of most interest to me. The other products seem very best suited for paper use.

image::stephen_guise_habit_tracker_month.png[]

== SOLUTION DESIGN
[.text-center]
*_The practice better habits app_*

A fair use, derived work. A simplified getting started with his approach. Given the hackathon requirements:

* 3 pages - demo, app, blog
** demo: video for recorded demo of entry
** app:  login email auth, one page with select action (something like define habit, track habit, review activity) or responsive grid of actions, forms details; for speed use an existing color scheme, no real branding or unified font approach yet.
** blog: blog posts as automated ASCII doc to html to svelte page, why not. Try Asciidoctor via bun script prior to dev package script run.

* [x] Leave demo app in place for now as working example; turn welcome into demo page with placeholder video, turn about into blog and draft blog but include in page later. Fast draft an entry in blog and setup automatic conversion from adoc file via predev package script.
* [ ] Turn blog into blog page by including generate html into svelte page
* [ ] Create an app page with simple grid of actions

=== Data Requirement
Support elastic habit definition and tracking where each habit has three specific applications each with three levels of success/intensity.

[NOTE]
.Creating Three Habits
====
. Start with top values
. List out activities for say top seven
. Make three choices to develop. “Use the broadest terms possible to cover multiple specific applications. Examples: garden, exercise, piano, woodworking (or even broader, crafting), creativity, cleaning, writing, relationships, mindfulness, healthy eating, reading, or any skill you want to build or area of focus (violin, juggling, soldering, engineering, home improvement, programming, public speaking, confidence, etc.), and so on.” — Elastic Habits: How to Create Smarter Habits That Adapt to Your Day by Stephen Guise https://a.co/0gwgMhI
====

Focus on three habits. Instead of score, just define as explained in chapter 9 of the book. Future scope should include aspects of sharing and enriched creation experience.

image::stephen_guise_elastic_habits_in_seven_easy_steps.png[]

Likely we should design something that lets you:

* [ ] Log in to create or work with your data
* [ ] Describe a habit - create new habit and describe it's vertical & horizontal activities; 3 levels of intensity/success - minimum/mini, medium/plus, maximum/elite AND 3 specific applications for each habit.
* [ ] Log - Track a habit - log an activity that was described in the previous step maybe include comments for that entry?
* [ ] Review logged and missing days - maybe simple counts (later make filterable date range or month), perhaps the additional comments are nice to see here.

== WIP - Work In Progress Checklists
Instead of loads of design, I'll update this readme to reflect the progress and use a GitFlow workflow pushing Main branch releases to GitHub. The repo is private now, but I will likely make it public for entry to the contest and to gather feedback.

[%interactive]
.DO NEXT SETUP
* [x] start GitHub repository (private for now), Gitflow workflow, labels and issue templates
* [x] setup tailwind and initialize svelte kit project using svelte 5 preview w demo app
* [x] converted read me from markdown to ASCII doc and added image directory; let's explore including html version into the entry app
* [x] setup formatting and styling configuration and test by applying format and style fixes and run dev
* [x] update all apps and test dev
* [x] make svelte demo app style compliant and lint free
* [x] test build and preview

[%interactive]
.DO NEXT DESIGN
* [x] outline the README.adoc for scoping and deploying an entry for the hackathon with an eye to continue project in another context after getting feedback
* [x] add pre dev script with bun script to convert adoc to html
* [x] add some issues for the required in scope requirements for submission

[%interactive]
.DO NEXT IMPLEMENTATION
* [ ] Add pages and routes (see design section)
* [ ] Add db schema and data, actions, habits, user and user auth
* [ ] Test the database moving from dev inside a feature branch to main, then feature branch again
* [ ] Setup Vercel to deploy the app
* [ ] Test dev, build, preview

== Dev Flow

I use semver, with the GitFlow approach (main and develop) with feature, hotfix, and release branches. When main is updated locally, it is pushed to the GitHub release branch. When main is updated on GitHub, it is pushed to the GitHub develop branch. When main is updated on GitHub, it is pushed to the GitHub main branch.
In the future, I may want to adopt pull request scheme from main to GitHub. This current approach is great for small teams and certainly for a team of one.

=== Developing with bun and svelte-kit

Once you've created a project and installed dependencies with `bun install`, start a development server:

```bash
bun run dev

# or start the server and open the app in a new browser tab
bun run dev --open
```

To create a production version of your app:

```bash
bun run build
```

You can preview the production build with `bun run preview`.

Normally to deploy your app, you may need to install an [adapter](https://kit.svelte.dev/docs/adapters) for your target environment.
See link:https://vercel.com/docs/frameworks/sveltekit

Because of Vercel, one can "deploy your SvelteKit projects to Vercel with zero configuration, enabling you to use Preview Deployments, Web Analytics, Serverless Functions, and more".

== LESSONS LEARNED

=== During Setup
* Note: bun run without the -b flag will default to run in node environment. You can still use -b for say scripts or installs and updates.
* According to vite-plugin-svelte at dev script time:
** Svelte 5.0.0-next.138. Svelte 5 support is experimental, breaking changes can occur in any release until this notice is removed.
** work in progress: svelte-inspector is disabled until dev mode implements node to code mapping

=== During Design

=== During Implementation

== USER FEEDBACK

== CONCLUSION
Thanks for reviewing my submission! I'm a big fan of both sponsors and look forward to your feedback.

